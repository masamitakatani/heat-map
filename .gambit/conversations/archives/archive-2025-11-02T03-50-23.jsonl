{"role":"assistant","content":"# Phase 6 â†’ Phase 4 å¼•ãç¶™ããƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n\n**ä½œæˆæ—¥**: 2025å¹´11æœˆ2æ—¥  \n**å¼•ãç¶™ãå…ƒ**: APIçµ±åˆã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆï¼ˆPhase 6æ‹…å½“ï¼‰  \n**å¼•ãç¶™ãå…ˆ**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ï¼ˆPhase 4æ‹…å½“ï¼‰\n\n---\n\n## ğŸ“‹ ç¾åœ¨ã®çŠ¶æ³\n\n### âœ… å®Œäº†ã—ãŸä½œæ¥­ï¼ˆPhase 6ï¼‰\n\n**APIçµ±åˆãŒå®Œå…¨ã«å®Ÿè£…ã•ã‚Œã€ãƒ†ã‚¹ãƒˆæ¸ˆã¿ã§ã™ã€‚**\n\nä»¥ä¸‹ã®æ©Ÿèƒ½ãŒä½¿ç”¨å¯èƒ½ãªçŠ¶æ…‹ã«ãªã£ã¦ã„ã¾ã™ï¼š\n\n1. **TanStack Queryçµ±åˆ**\n   - QueryClientåˆæœŸåŒ–æ¸ˆã¿\n   - ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼ˆ`useFunnels`, `useProjectSettings`ï¼‰å®Ÿè£…æ¸ˆã¿\n\n2. **APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**\n   - Connected One APIã¨ã®é€šä¿¡åŸºç›¤å®Œæˆ\n   - èªè¨¼ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…æ¸ˆã¿\n\n3. **Webhooké€ä¿¡æ©Ÿèƒ½**\n   - ãƒ•ã‚¡ãƒãƒ«å®Œäº†/é›¢è„±ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡æ©Ÿèƒ½å®Ÿè£…æ¸ˆã¿\n   - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã®ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°æ©Ÿèƒ½å®Ÿè£…æ¸ˆã¿\n\n4. **ãƒ†ã‚¹ãƒˆç’°å¢ƒ**\n   - `http://localhost:3000/` ã§ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ç¨¼åƒä¸­\n   - APIçµ±åˆã®å‹•ä½œç¢ºèªæ¸ˆã¿\n\n---\n\n## ğŸ¯ Phase 4ã®å®Ÿè£…å†…å®¹\n\nã‚ãªãŸãŒå®Ÿè£…ã™ã‚‹æ©Ÿèƒ½ï¼š\n\n### 1. ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°\n- ãƒšãƒ¼ã‚¸ä¸Šã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£\n- ã‚¯ãƒªãƒƒã‚¯åº§æ¨™ï¼ˆx, yï¼‰ã®è¨˜éŒ²\n- ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸè¦ç´ æƒ…å ±ã®å–å¾—\n- LocalStorageã¸ã®ä¿å­˜\n\n### 2. ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ·±åº¦è¨ˆæ¸¬\n- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆã®ç›£è¦–\n- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ·±åº¦ï¼ˆ%ï¼‰ã®è¨ˆç®—\n- é˜²æŠ–å‡¦ç†ï¼ˆdebounceï¼‰ã®å®Ÿè£…\n- LocalStorageã¸ã®ä¿å­˜\n\n### 3. ãƒã‚¦ã‚¹ãƒ ãƒ¼ãƒ–ãƒ¡ãƒ³ãƒˆãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°\n- ãƒã‚¦ã‚¹ç§»å‹•ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚­ãƒ£ãƒ—ãƒãƒ£\n- ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å‡¦ç†ï¼ˆ10%ï¼‰\n- åº§æ¨™ãƒ‡ãƒ¼ã‚¿ã®è¨˜éŒ²\n- LocalStorageã¸ã®ä¿å­˜\n\n### 4. ãƒ‡ãƒ¼ã‚¿ç®¡ç†\n- ãƒãƒƒãƒå‡¦ç†ï¼ˆ5ç§’ã”ã¨ï¼‰\n- LocalStorageå®¹é‡ç®¡ç†\n- å¤ã„ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å‰Šé™¤\n\n---\n\n## ğŸ“ å®Ÿè£…å ´æ‰€\n\n### ä½œæˆãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«\n\n```\nfrontend/src/\nâ”œâ”€â”€ trackers/\nâ”‚   â”œâ”€â”€ clickTracker.ts      # ã‚¯ãƒªãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°\nâ”‚   â”œâ”€â”€ scrollTracker.ts     # ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°\nâ”‚   â”œâ”€â”€ mouseMoveTracker.ts  # ãƒã‚¦ã‚¹ç§»å‹•ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°\nâ”‚   â””â”€â”€ index.ts             # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆçµ±åˆ\nâ””â”€â”€ core/\n    â””â”€â”€ eventManager.ts       # ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ç®¡ç†\n```\n\n### ç·¨é›†ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«\n\n```\nfrontend/src/\nâ”œâ”€â”€ main.ts                   # ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã®çµ±åˆ\nâ””â”€â”€ types/index.ts           # å¿…è¦ã«å¿œã˜ã¦å‹å®šç¾©è¿½åŠ \n```\n\n---\n\n## ğŸ”§ å®Ÿè£…ã‚¬ã‚¤ãƒ‰\n\n### 1. ã‚¯ãƒªãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã®å®Ÿè£…ä¾‹\n\n`frontend/src/trackers/clickTracker.ts` ã‚’ä½œæˆï¼š\n\n```typescript\n/**\n * ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ©ãƒƒã‚«ãƒ¼\n */\n\nimport type { ClickEvent, ElementInfo } from '../types';\nimport { loadData, saveData } from '../storage/localStorage';\n\n/**\n * è¦ç´ æƒ…å ±ã‚’å–å¾—\n */\nfunction getElementInfo(target: HTMLElement): ElementInfo {\n  return {\n    tag: target.tagName,\n    id: target.id || undefined,\n    class: target.className || undefined,\n    text: target.textContent?.slice(0, 50) || undefined,\n  };\n}\n\n/**\n * ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼\n */\nfunction handleClick(event: MouseEvent): void {\n  const clickEvent: ClickEvent = {\n    x: event.clientX,\n    y: event.clientY,\n    viewport_width: window.innerWidth,\n    viewport_height: window.innerHeight,\n    element: getElementInfo(event.target as HTMLElement),\n    timestamp: new Date().toISOString(),\n  };\n\n  // LocalStorageã«ä¿å­˜\n  const data = loadData();\n  if (data) {\n    data.pendingEvents.clicks.push(clickEvent);\n    saveData(data);\n  }\n}\n\n/**\n * ã‚¯ãƒªãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹\n */\nexport function startClickTracking(): void {\n  document.addEventListener('click', handleClick);\n  console.log('[ClickTracker] ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹');\n}\n\n/**\n * ã‚¯ãƒªãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°åœæ­¢\n */\nexport function stopClickTracking(): void {\n  document.removeEventListener('click', handleClick);\n  console.log('[ClickTracker] ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°åœæ­¢');\n}\n```\n\n---\n\n### 2. ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã®å®Ÿè£…ä¾‹\n\n`frontend/src/trackers/scrollTracker.ts` ã‚’ä½œæˆï¼š\n\n```typescript\n/**\n * ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ©ãƒƒã‚«ãƒ¼\n */\n\nimport type { ScrollEvent } from '../types';\nimport { loadData, saveData } from '../storage/localStorage';\n\nlet scrollTimeout: number | null = null;\n\n/**\n * ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ·±åº¦ã‚’è¨ˆç®—\n */\nfunction calculateScrollDepth(): number {\n  const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n  const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;\n  return Math.round((scrollTop / scrollHeight) * 100);\n}\n\n/**\n * ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆé˜²æŠ–å‡¦ç†ä»˜ãï¼‰\n */\nfunction handleScroll(): void {\n  if (scrollTimeout) {\n    clearTimeout(scrollTimeout);\n  }\n\n  scrollTimeout = window.setTimeout(() => {\n    const scrollEvent: ScrollEvent = {\n      depth_percent: calculateScrollDepth(),\n      max_scroll_y: window.pageYOffset,\n      page_height: document.documentElement.scrollHeight,\n      timestamp: new Date().toISOString(),\n    };\n\n    // LocalStorageã«ä¿å­˜\n    const data = loadData();\n    if (data) {\n      data.pendingEvents.scrolls.push(scrollEvent);\n      saveData(data);\n    }\n  }, 500); // 500mså¾Œã«å®Ÿè¡Œ\n}\n\n/**\n * ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹\n */\nexport function startScrollTracking(): void {\n  window.addEventListener('scroll', handleScroll);\n  console.log('[ScrollTracker] ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹');\n}\n\n/**\n * ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°åœæ­¢\n */\nexport function stopScrollTracking(): void {\n  window.removeEventListener('scroll', handleScroll);\n  if (scrollTimeout) {\n    clearTimeout(scrollTimeout);\n  }\n  console.log('[ScrollTracker] ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°åœæ­¢');\n}\n```\n\n---\n\n### 3. ãƒã‚¦ã‚¹ç§»å‹•ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã®å®Ÿè£…ä¾‹\n\n`frontend/src/trackers/mouseMoveTracker.ts` ã‚’ä½œæˆï¼š\n\n```typescript\n/**\n * ãƒã‚¦ã‚¹ç§»å‹•ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ©ãƒƒã‚«ãƒ¼\n */\n\nimport type { MouseMoveEvent } from '../types';\nimport { loadData, saveData } from '../storage/localStorage';\n\n/**\n * ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ç‡ï¼ˆ10%ï¼‰\n */\nconst SAMPLING_RATE = 0.1;\n\n/**\n * ãƒã‚¦ã‚¹ç§»å‹•ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼\n */\nfunction handleMouseMove(event: MouseEvent): void {\n  // ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆ10%ã®ã¿è¨˜éŒ²ï¼‰\n  if (Math.random() > SAMPLING_RATE) return;\n\n  const mouseMoveEvent: MouseMoveEvent = {\n    x: event.clientX,\n    y: event.clientY,\n    viewport_width: window.innerWidth,\n    viewport_height: window.innerHeight,\n    timestamp: new Date().toISOString(),\n  };\n\n  // LocalStorageã«ä¿å­˜\n  const data = loadData();\n  if (data) {\n    data.pendingEvents.mouseMoves.push(mouseMoveEvent);\n    saveData(data);\n  }\n}\n\n/**\n * ãƒã‚¦ã‚¹ç§»å‹•ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹\n */\nexport function startMouseMoveTracking(): void {\n  document.addEventListener('mousemove', handleMouseMove);\n  console.log('[MouseMoveTracker] ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹');\n}\n\n/**\n * ãƒã‚¦ã‚¹ç§»å‹•ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°åœæ­¢\n */\nexport function stopMouseMoveTracking(): void {\n  document.removeEventListener('mousemove', handleMouseMove);\n  console.log('[MouseMoveTracker] ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°åœæ­¢');\n}\n```\n\n---\n\n### 4. ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã®æ›´æ–°\n\n`frontend/src/main.ts` ã® `start()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç·¨é›†ï¼š\n\n```typescript\nimport {\n  startClickTracking,\n  startScrollTracking,\n  startMouseMoveTracking,\n  stopClickTracking,\n  stopScrollTracking,\n  stopMouseMoveTracking,\n} from './trackers';\n\n/**\n * è¨˜éŒ²é–‹å§‹\n */\npublic start(): void {\n  if (!this.isInitialized) {\n    console.error('[Heatmap] åˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚init()ã‚’å…ˆã«å‘¼ã³å‡ºã—ã¦ãã ã•ã„ã€‚');\n    return;\n  }\n\n  if (this.config.debug) {\n    console.log('[Heatmap] è¨˜éŒ²é–‹å§‹');\n  }\n\n  // ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹\n  startClickTracking();\n  startScrollTracking();\n  startMouseMoveTracking();\n}\n\n/**\n * è¨˜éŒ²åœæ­¢\n */\npublic stop(): void {\n  if (this.config.debug) {\n    console.log('[Heatmap] è¨˜éŒ²åœæ­¢');\n  }\n\n  // ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°åœæ­¢\n  stopClickTracking();\n  stopScrollTracking();\n  stopMouseMoveTracking();\n}\n```\n\n---\n\n## ğŸ”Œ APIçµ±åˆã¨ã®é€£æº\n\n### Webhookã¸ã®ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡ï¼ˆå°†æ¥å®Ÿè£…ï¼‰\n\nPhase 5ï¼ˆãƒ•ã‚¡ãƒãƒ«è§£æï¼‰ã§ã€åé›†ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’Webhookã§é€ä¿¡ã—ã¾ã™ï¼š\n\n```typescript\nimport { sendWebhook } from './api/webhook';\n\n// ãƒ•ã‚¡ãƒãƒ«å®Œäº†æ™‚ã«è‡ªå‹•é€ä¿¡\nconst payload = {\n  event_type: 'funnel.completed',\n  project_id: this.config.api.projectId,\n  // ... åé›†ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿\n};\n\nawait sendWebhook(payload);\n```\n\n**Phase 4ã§ã¯ã€ã¾ãšãƒ‡ãƒ¼ã‚¿åé›†ã®ã¿ã«é›†ä¸­ã—ã¦ãã ã•ã„ã€‚**\n\n---\n\n## ğŸ“Š LocalStorageãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆå‚è€ƒï¼‰\n\næ—¢ã«ä»¥ä¸‹ã®æ§‹é€ ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ï¼ˆ`frontend/src/types/index.ts`ï¼‰ï¼š\n\n```typescript\nexport interface LocalStorageData {\n  overlayState: OverlayState;\n  sessionId: string;\n  anonymousId: string;\n  pendingEvents: PendingEvents;  // â† ã“ã“ã«ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜\n  funnelProgress?: FunnelProgress;\n  overlayPosition?: Position;\n}\n\nexport interface PendingEvents {\n  clicks: ClickEvent[];      // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆé…åˆ—\n  scrolls: ScrollEvent[];    // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆé…åˆ—\n  mouseMoves: MouseMoveEvent[]; // ãƒã‚¦ã‚¹ç§»å‹•ã‚¤ãƒ™ãƒ³ãƒˆé…åˆ—\n}\n```\n\n**æ—¢å­˜ã®`loadData()`ã¨`saveData()`é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚**\n\n---\n\n## ğŸ§ª ãƒ†ã‚¹ãƒˆæ–¹æ³•\n\n### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•\n\n```bash\ncd frontend\nnpm run dev\n```\n\n### ãƒ†ã‚¹ãƒˆæ‰‹é †\n\n1. **ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:3000/` ã‚’é–‹ã**\n\n2. **åˆæœŸåŒ–ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯**\n\n3. **ãƒšãƒ¼ã‚¸ä¸Šã§ã‚¯ãƒªãƒƒã‚¯ãƒ»ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ»ãƒã‚¦ã‚¹ç§»å‹•ã‚’å®Ÿè¡Œ**\n\n4. **ã€ŒLocalStorageã‚’è¡¨ç¤ºã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª**\n\næœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›ä¾‹ï¼š\n```json\n{\n  \"pendingEvents\": {\n    \"clicks\": [\n      {\n        \"x\": 450,\n        \"y\": 300,\n        \"viewport_width\": 1920,\n        \"viewport_height\": 1080,\n        \"element\": {\n          \"tag\": \"BUTTON\",\n          \"id\": \"testButton\",\n          \"class\": \"btn-primary\"\n        },\n        \"timestamp\": \"2025-11-02T10:30:00.000Z\"\n      }\n    ],\n    \"scrolls\": [...],\n    \"mouseMoves\": [...]\n  }\n}\n```\n\n---\n\n## ğŸ¯ å®Ÿè£…ã®å„ªå…ˆé †ä½\n\n1. **æœ€å„ªå…ˆ**: ã‚¯ãƒªãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ï¼ˆæœ€ã‚‚é‡è¦ãªæ©Ÿèƒ½ï¼‰\n2. **æ¬¡ã«**: ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°\n3. **æœ€å¾Œ**: ãƒã‚¦ã‚¹ç§»å‹•ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ï¼ˆã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã®ãŸã‚è² è·ãŒä½ã„ï¼‰\n\n---\n\n## ğŸ“š å‚è€ƒè³‡æ–™\n\n### æ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n\n- **è¦ä»¶å®šç¾©æ›¸**: `/docs/requirements/requirements.md`\n- **APIä»•æ§˜æ›¸**: `/docs/API_SPEC.md`\n- **Phase 6å®Œäº†å ±å‘Š**: `/docs/PHASE6_COMPLETION.md`\n- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰README**: `/frontend/README.md`\n\n### æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰\n\n- **å‹å®šç¾©**: `frontend/src/types/index.ts`\n- **LocalStorageç®¡ç†**: `frontend/src/storage/localStorage.ts`\n- **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£**: `frontend/src/utils/`\n\n---\n\n## âš ï¸ æ³¨æ„äº‹é …\n\n### ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨\n\nâŒ **APIé–¢é€£ã®ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãªã„**\n- `frontend/src/api/` é…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ç·¨é›†ä¸è¦\n\nâŒ **LocalStorageã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å¤‰æ›´ã—ãªã„**\n- æ—¢å­˜ã®å‹å®šç¾©ã«å¾“ã£ã¦ãã ã•ã„\n\nâŒ **Webhookã‚’ç›´æ¥å‘¼ã³å‡ºã•ãªã„**\n- Phase 5ã§å®Ÿè£…ã—ã¾ã™\n\n### ã‚„ã‚‹ã¹ãã“ã¨\n\nâœ… **ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®é©åˆ‡ãªç™»éŒ²ãƒ»è§£é™¤**\n- ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢\n\nâœ… **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è€ƒæ…®ã—ãŸå®Ÿè£…**\n- é˜²æŠ–å‡¦ç†ï¼ˆdebounceï¼‰\n- ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°\n- ãƒãƒƒãƒå‡¦ç†\n\nâœ… **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**\n- LocalStorageå®¹é‡è¶…éæ™‚ã®å¯¾å¿œ\n\n---\n\n## ğŸš€ é–‹å§‹æ‰‹é †\n\n### 1. ãƒ–ãƒ©ãƒ³ãƒä½œæˆï¼ˆæ¨å¥¨ï¼‰\n\n```bash\ngit checkout -b feature/phase4-event-tracking\n```\n\n### 2. å®Ÿè£…é–‹å§‹\n\nä¸Šè¨˜ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦å®Ÿè£…ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚\n\n### 3. è³ªå•ãŒã‚ã‚‹å ´åˆ\n\n- æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ï¼ˆ`frontend/src/`ï¼‰ã‚’å‚ç…§\n- TypeScriptå‹å®šç¾©ï¼ˆ`frontend/src/types/index.ts`ï¼‰ã‚’ç¢ºèª\n- ä¸æ˜ç‚¹ã¯è¦ä»¶å®šç¾©æ›¸ã‚’ç¢ºèª\n\n---\n\n## ğŸ“ é€£çµ¡äº‹é …\n\nPhase 4ã®å®Ÿè£…ãŒå®Œäº†ã—ãŸã‚‰ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š\n\n- [ ] ã‚¯ãƒªãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãŒå‹•ä½œã™ã‚‹\n- [ ] ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãŒå‹•ä½œã™ã‚‹\n- [ ] ãƒã‚¦ã‚¹ç§»å‹•ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãŒå‹•ä½œã™ã‚‹\n- [ ] LocalStorageã«ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã•ã‚Œã‚‹\n- [ ] `start()`/`stop()`ãƒ¡ã‚½ãƒƒãƒ‰ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹\n- [ ] ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ï¼ˆ`npm run build`ï¼‰\n- [ ] ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã§å‹•ä½œç¢ºèªæ¸ˆã¿\n\nå®Œäº†å¾Œã€Phase 5ï¼ˆãƒ•ã‚¡ãƒãƒ«è§£æï¼‰ã«é€²ã¿ã¾ã™ã€‚\n\n---\n\n**å¼•ãç¶™ãå®Œäº†æ—¥**: 2025å¹´11æœˆ2æ—¥  \n**APIçµ±åˆæ‹…å½“è€…**: Phase 6å®Œäº†  \n**æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºæ‹…å½“è€…**: Phase 4å®Ÿè£…ã‚’ãŠé¡˜ã„ã—ã¾ã™\n\né ‘å¼µã£ã¦ãã ã•ã„ï¼ğŸš€\n","timestamp":"2025-11-02T02:49:34.083Z","tokens":4516}
